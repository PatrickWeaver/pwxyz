doctype html
html(lang="en" ng-app="Chats")
  
  include head.pug
  
  body(ng-controller="mainController")
    div(id="wrapper")
      div(id="reset-button").
        ⟳
      div(id="chat-area")
        div(
          ng-repeat="chat in chats | orderBy: 'timestamp'"
          class="chat-container"
        )
          div(class="chat-wrapper").
            <p class='chat-{{chat.user_type}}' id='chat-{{chat.id}}'> 
            [{{chat.special}}]  {{chat.name}} at {{chat.timestamp}}:<br>
            <span ng-bind-html="chat.message | unsafe"></span>
            </p>
            <div class="avatar avatar-{{chat.user_type}}"></div>
    div(id="compose-area")
      textarea(
        id="composer"
        class="text-input"
        type="text"
        autofocus="autofocus"
      )
      div(id="send-button")
        button.
          &nbsp;↵&nbsp;
    div(style="display: none;" id="guest-ip").
      #{guest_ip}

    script(type="text/javascript" src="js/var.js")
    script(type="text/javascript" src="js/guest.js")
    script(type="text/javascript" src="js/project.js")
    script(type="text/javascript" src="js/script.js")
    script(type="text/javascript" src="js/chat.js")
    script(type="text/javascript" src="js/api.js") 
    script(type="text/javascript" src="js/core.js")
    script(type="text/javascript" src="js/listen.js")